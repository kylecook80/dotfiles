#!/usr/bin/env bash

SHELL_FILES="aliases gdbinit gitignore screenrc vim vimrc zshenv zshrc zsh"
I3_FILES="i3 polybar rofi xmodmaprc xinitrc Xresources Xresources.d"
GEN_FILES="antigen base16_theme gitconfig viminfo zcompdump zsh_history zsh_history zshrc.zwc"

DIR="$(pwd)"

for item in $SHELL_FILES; do
    if [[ -L "$HOME/.${item##*/}" ]]; then
        rm -rf "$HOME/.${item##*/}"
    fi
done

for item in $I3_FILES; do
    if [[ -L "$HOME/.$item" ]]; then
        rm -rf "$HOME/.$item"
    fi
done

for item in $GEN_FILES; do
    if [[ -e "$HOME/.$item" ]]; then
        rm -rf "$HOME/.$item"
    fi
done

for item in $DIR/scripts/*; do
    if [[ -L "$HOME/bin/${item##*/}" ]]; then
        rm $HOME/bin/${item##*/}
    fi

    if ! find "$HOME/bin" -mindepth 1 -print -quit | grep -q .; then
        rmdir $HOME/bin
    fi
done
